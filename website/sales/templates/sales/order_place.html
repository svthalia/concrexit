{% extends "small_page.html" %}
{% load django_bootstrap5 %}

{% block title %}Place order for {{ shift.title }}{% if shift.event %} for {{shift.event.title}}{% endif %}{% endblock %}
{% block page_title %}Place order for {{ shift.title }}{% if shift.event %} for {{shift.event.title}}{% endif %}{% endblock %}

{% block page_content %}
    {% if date_now < shift.start %}
        You can order starting from {{ shift.start }}.
    {% elif date_now > shift.end %}
        You cannot place orders anymore! This shift ended at {{ shift.end }}.
    {% else %}
        <p>You can order until {{shift.end}}.</p>
        <form method="post">
        {% csrf_token %}
        <table class="table table-responsive table-bordered">
            {% for field in form %}
                <tr>
                    <td class="align-middle">{{ field.field.get_product.name }}</td>
                    <td class="align-middle">&euro;&nbsp;{{field.field.get_productlistitem.price}}</td>
                    <td class="align-middle">{% bootstrap_field field wrapper_class="" show_label="skip" placeholder="" %}</td>
                </tr>
            {% endfor %}
        </table>
        <input type="submit" class="btn btn-primary" value="Place order">
        </form>
    {% endif %}
{% endblock %}
