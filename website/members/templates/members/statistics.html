{% extends "base.html" %}
{% load i18n static compress %}

{% block title %}{% trans "Statistics" %} — {{ block.super }}{% endblock %}
{% block opengraph_title %}{% trans "Statistics" %} — {{ block.super }}{% endblock %}

{% block body %}
    <section class="page-section" id="members-statistics" data-statistics="{{ statistics }}">
        <div class="container">
            <h1 class="text-center section-title">{% trans "Statistics" %}</h1>

            <h2 class="text-center mb-4">{% trans "Total amount of Thalia members" %}: {{ total_members }}</h2>

            <div class="row">
                <div class="col-12 col-md-6">
                    <canvas id="members-type-chart"></canvas>
                </div>

                <div class="col-12 col-md-6">
                    <canvas id="total-year-chart"></canvas>
                </div>

                <div class="col-12 my-5">
                    <canvas id="committees-members-chart"></canvas>
                </div>

                <div class="col-12 mb-5">
                    <canvas id="event-category-chart"></canvas>
                </div>

                <div class="col-12 col-md-6">
                    <canvas id="pizza-total-type-chart"></canvas>
                </div>

                {% if current_pizza_orders != 'null' %} {# None is json-serialized to 'null' #}
                    <div class="col-12 col-md-6">
                            <canvas id="pizza-current-type-chart"></canvas>
                    </div>
                {% endif %}
            </div>
        </div>
    </section>
{% endblock %}

{% block js_body %}
    {{ block.super }}
    {% compress js %}
        <script type="text/javascript" src="{% static 'members/js/chart.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'members/js/statistics.js' %}"></script>
    {% endcompress %}
{% endblock %}
