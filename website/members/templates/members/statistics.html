{% extends "base.html" %}
{% load i18n static compress %}

{% block title %}{% trans "Statistics" %} — {{ block.super }}{% endblock %}
{% block opengraph_title %}{% trans "Statistics" %} — {{ block.super }}{% endblock %}

{% block body %}
    <section class="page-section" id="members-statistics" data-statistics="{{ statistics }}">
        <div class="container">
            <h1 class="text-center section-title">{% trans "Statistics" %}</h1>

            <h2 class="text-center mb-4">{% trans "Total amount of Thalia members" %}: {{ total_members }}</h2>

            <div class="row">
                <div class="col-6">
                    <canvas id="members-type-chart"
                            data-data="{{ member_type_distribution }}"
                            data-title="Membership Types"
                            data-chart-type="bar">
                    </canvas>
                </div>

                <div class="col-6 ">
                    <canvas id="total-year-chart"
                            data-data="{{ cohort_sizes }}"
                            data-title="Total number of (honorary) members and benefactors per cohort"
                            data-chart-type="bar">
                    </canvas>
                </div>
            </div>

            <hr>

            <div class="col-12">
                <canvas id="committees-members-chart"
                        data-data="{{ committee_sizes }}"
                        data-title="Committee Size"
                        data-chart-type="bar">
                </canvas>
            </div>

            <hr>

            <div class="col-12">
                <canvas id="event-category-chart"
                        data-data="{{ event_categories }}"
                        data-title="Number of Events"
                        data-chart-type="bar">
                </canvas>
            </div>

            <hr>

            <div class="row">
                <div class="col-6">
                    <canvas id="pizza-total-type-chart"
                            data-data="{{ total_pizza_orders }}"
                            data-title="Pizza Orders"
                            data-chart-type="pie">
                    </canvas>
                </div>

                <div class="col-6">
                    <canvas id="active-members-chart"
                            data-data="{{ active_members }}"
                            data-title="Active vs Non-active members"
                            data-chart-type="pie">
                    </canvas>
                </div>
            </div>

        </div>
    </section>
{% endblock %}

{% block js_body %}
    {{ block.super }}
    {% compress js %}
        <script type="text/javascript" src="{% static 'members/js/chart.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'members/js/statistics.js' %}"></script>
    {% endcompress %}
{% endblock %}
